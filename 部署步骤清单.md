# 📝 部署步骤清单（一步步跟着做）

> 打印或打开这个文件，每完成一步就打勾 ✅

---

## 🔵 第一部分：JSONBin.io（约 5 分钟）

### ✅ 步骤 1：注册账号
- [ ] 访问 https://jsonbin.io
- [ ] 点击右上角 **"Create Account"** 或 **"Sign Up"**
- [ ] 选择用 GitHub 登录（推荐）或邮箱注册
- [ ] 完成注册并登录

### ✅ 步骤 2：获取 Master Key
- [ ] 点击右上角 **头像图标**
- [ ] 点击 **"API Keys"** 或 **"Settings"**
- [ ] 找到 **"Master Key"**
- [ ] 点击 **"Show"** 显示密钥
- [ ] **复制并保存**（类似 `$2a$10$xxxxx...`）
  - 💾 保存位置：_________________________

### ✅ 步骤 3：创建 Bin
- [ ] 在首页点击 **"Create a Bin"** 按钮
- [ ] 打开文件：`激活码服务端\codes_2025-12-09.json`
- [ ] 全选文件内容（Ctrl+A）并复制（Ctrl+C）
- [ ] 回到 JSONBin.io，删除默认的 `{}`
- [ ] 粘贴 JSON 数据（Ctrl+V）
- [ ] 点击 **"Save"** 或 **"Create"**

### ✅ 步骤 4：获取 Bin ID
- [ ] 保存后，查看浏览器地址栏
- [ ] URL 类似：`https://jsonbin.io/app/bins/5f9a8b7c6d5e4f3a2b1c0d9e`
- [ ] **Bin ID 是 `/bins/` 后面的字符**
- [ ] **复制并保存** Bin ID
  - 💾 Bin ID：_________________________

---

## 🟢 第二部分：Vercel（约 15 分钟）

### ✅ 步骤 1：注册账号
- [ ] 访问 https://vercel.com
- [ ] 点击右上角 **"Sign Up"**
- [ ] 选择用 GitHub 登录（推荐）
- [ ] 完成登录

### ✅ 步骤 2：创建项目
- [ ] 点击 **"Add New Project"** 或 **"New Project"**
- [ ] 选择 **"Upload"** 或拖拽上传
- [ ] 选择 `激活码服务端` 文件夹
- [ ] 等待上传完成

### ✅ 步骤 3：配置项目
- [ ] **Project Name**：可以改为 `machao-activation`（或保持默认）
- [ ] **Framework Preset**：选择 **"Other"**
- [ ] **Root Directory**：保持 `./`（不要改）

### ✅ 步骤 4：添加环境变量（重要！）
- [ ] 找到 **"Environment Variables"** 部分
- [ ] 点击 **"Add"** 按钮

**第一个变量：**
- [ ] Name: `JSONBIN_BIN_ID`
- [ ] Value: 粘贴你的 Bin ID
- [ ] Environment: 选择 **"Production, Preview, Development"**（全选）
- [ ] 点击 **"Add"**

**第二个变量：**
- [ ] 再次点击 **"Add"**
- [ ] Name: `JSONBIN_API_KEY`
- [ ] Value: 粘贴你的 Master Key
- [ ] Environment: 选择 **"Production, Preview, Development"**（全选）
- [ ] 点击 **"Add"**

**验证：**
- [ ] 确认看到两个环境变量都已添加

### ✅ 步骤 5：部署
- [ ] 点击页面底部的 **"Deploy"** 按钮
- [ ] 等待部署完成（约 1-2 分钟）
- [ ] 看到 **"Congratulations!"** 表示成功

### ✅ 步骤 6：获取域名
- [ ] 在项目页面找到域名（类似 `machao-activation-xxx.vercel.app`）
- [ ] **复制这个域名**
  - 💾 API 地址：`https://_________________________.vercel.app/api/verify`

---

## 🟡 第三部分：测试 API（约 3 分钟）

### ✅ 步骤 1：打开测试页面
- [ ] 打开文件：`激活码服务端\test-api.html`
- [ ] 在 **"API 地址"** 输入框输入你的域名（不需要 `/api/verify`）

### ✅ 步骤 2：测试验证
- [ ] 激活码输入：`HORSE-2026-L273-MXR5`
- [ ] 操作选择：**"验证（不激活）"**
- [ ] 点击 **"🚀 测试 API"**
- [ ] 应该看到 `success: true, code: VALID`

### ✅ 步骤 3：测试激活
- [ ] 操作选择：**"激活"**
- [ ] 再次点击 **"🚀 测试 API"**
- [ ] 应该看到 `success: true, code: ACTIVATED`

---

## 🟣 第四部分：更新插件（约 2 分钟）

### ✅ 步骤 1：修改 API 地址
- [ ] 打开：`马钞预约助手\浏览器插件版\popup.js`
- [ ] 找到第 15 行：`const ACTIVATION_API = '...'`
- [ ] 改为：`const ACTIVATION_API = 'https://你的域名.vercel.app/api/verify';`
- [ ] 保存文件

### ✅ 步骤 2：关闭测试模式
- [ ] 找到第 18 行：`const SKIP_ACTIVATION = true;`
- [ ] 改为：`const SKIP_ACTIVATION = false;`
- [ ] 保存文件

### ✅ 步骤 3：重新加载插件
- [ ] 打开 `chrome://extensions/`
- [ ] 找到"马钞预约助手"
- [ ] 点击 **刷新按钮** 🔄

### ✅ 步骤 4：测试激活
- [ ] 点击插件图标
- [ ] 输入激活码：`HORSE-2026-L273-MXR5`
- [ ] 点击 **"激活"**
- [ ] 应该看到 **"🎉 激活成功！"**

---

## 📋 重要信息记录

**请填写以下信息，方便后续使用：**

```
JSONBin.io Master Key: 
_________________________________________________

JSONBin.io Bin ID: 
_________________________________________________

Vercel 项目域名: 
_________________________________________________

完整 API 地址: 
https://_________________________________________________/api/verify
```

---

## 🎉 完成！

如果所有步骤都打勾了，恭喜你！激活码服务端已成功部署！

**下一步：** 完善展示网站内容

